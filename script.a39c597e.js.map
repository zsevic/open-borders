{"version":3,"sources":["script.js"],"names":["NEGATIVE_TEST_REQUIRED","NO_TEST_REQUIRED","QUARANTINE_REQUIRED","countryTypes","titleCase","text","split","map","item","toLowerCase","charAt","substring","join","setBorderTopClassForFirstCountryElement","forEach","type","firstCountryElement","otherCountryElements","filter","call","document","getElementById","children","element","style","display","classList","add","countryElement","remove","setCountryCounter","countriesByTypeCounter","length","countriesByTypeBadge","countriesByTypeTabBadge","countriesByTypeInfo","countriesByTypeTabInfo","countriesByTypeStyleDisplay","innerHTML","addEventListener","event","value","target","countryList","querySelectorAll","country","values","parentElement","name","startsWith","loadCountries","API_URL","groups","fetch","then","response","json","reduce","acc","current","status","push","countriesByType","countriesByTypeTab","countryName","info","countryInfo","flag","countryHtml","err","console","error"],"mappings":"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","file":"script.a39c597e.js","sourceRoot":"../src","sourcesContent":["const NEGATIVE_TEST_REQUIRED = 'NEGATIVE_TEST_REQUIRED';\nconst NO_TEST_REQUIRED = 'NO_TEST_REQUIRED';\nconst QUARANTINE_REQUIRED = 'QUARANTINE_REQUIRED';\n\nconst countryTypes = [NEGATIVE_TEST_REQUIRED, NO_TEST_REQUIRED, QUARANTINE_REQUIRED];\n\nconst titleCase = (text) => text.split(' ').map(item => {\n  if (item === 'I') return item.toLowerCase();\n  if (item === 'SAD') return item;\n  return item.charAt(0) + item.substring(1).toLowerCase();\n}).join(' ');\n\nconst setBorderTopClassForFirstCountryElement = () => {\n  countryTypes.forEach(type => {\n    const [firstCountryElement, ...otherCountryElements] = [].filter\n      .call(document.getElementById(type).children, (element) => element.style.display !== 'none');\n    firstCountryElement?.classList.add('border-top');\n    for (const countryElement of otherCountryElements) {\n      countryElement.classList.remove('border-top');\n    }\n  });\n};\n\nconst setCountryCounter = () => {\n  countryTypes.forEach(type => {\n    const countriesByTypeCounter = [].filter\n      .call(document.getElementById(type).children, (element) => element.style.display !== 'none')\n      .length;\n    const countriesByTypeBadge = document.getElementById(`${type}_BADGE`);\n    const countriesByTypeTabBadge = document.getElementById(`${type}_TAB_BADGE`);\n    const countriesByTypeInfo = document.getElementById(`${type}_INFO`);\n    const countriesByTypeTabInfo = document.getElementById(`${type}_TAB_INFO`);\n    const countriesByTypeStyleDisplay = countriesByTypeCounter > 0 ? 'none' : '';\n    countriesByTypeInfo.style.display = countriesByTypeStyleDisplay;\n    countriesByTypeTabInfo.style.display = countriesByTypeStyleDisplay;\n    countriesByTypeBadge.innerHTML = countriesByTypeCounter;\n    countriesByTypeTabBadge.innerHTML = countriesByTypeCounter;\n  });\n}\n\ndocument.getElementById('input-search').addEventListener('input', (event) => {\n  const { value } = event.target;\n  if (!value) {\n    const countryList = document.querySelectorAll('.country');\n    for (const country of countryList.values()) {\n      country.parentElement.parentElement.style.display = '';\n    }\n    setCountryCounter();\n    setBorderTopClassForFirstCountryElement();\n    return;\n  }\n\n  const countryList = document.querySelectorAll('.country');\n  for (const country of countryList.values()) {\n    const [, ...name] = country.innerHTML.split(' ');\n    const countryName = name.join(' ').toLowerCase();\n\n    if (countryName.startsWith(value.toLowerCase())) {\n      country.parentElement.parentElement.style.display = '';\n    } else {\n      country.parentElement.parentElement.style.display = 'none';\n    }\n  }\n  setCountryCounter();\n  setBorderTopClassForFirstCountryElement();\n});\n\nconst loadCountries = async () => {\n  try {\n    const API_URL = process.env.API_URL || 'https://open-borders.herokuapp.com';\n    const countries = await fetch(`${API_URL}/api/countries`).then(response => response.json());\n    const groups = countries.reduce((acc, current) => {\n      if (acc[current.status]) acc[current.status].push(current);\n      else acc[current.status] = [current];\n      return acc;\n    }, {});\n    countryTypes.forEach(type => {\n      const countriesByType = document.getElementById(type);\n      const countriesByTypeBadge = document.getElementById(`${type}_BADGE`);\n      const countriesByTypeInfo = document.getElementById(`${type}_INFO`);\n      const countriesByTypeTab = document.getElementById(`${type}_TAB`);\n      const countriesByTypeTabBadge = document.getElementById(`${type}_TAB_BADGE`);\n      const countriesByTypeTabInfo = document.getElementById(`${type}_TAB_INFO`);\n      groups[type]?.forEach(({ name: countryName, info: countryInfo, flag }) => {\n        const countryHtml = `<div class=\"list-group-item list-group-item-action flex-column align-items-start\">\n        <div class=\"d-flex w-100 justify-content-between\">\n          <h5 class=\"mb-1 text-info country\">${flag} ${titleCase(countryName)}</h5>\n          </div>\n          <p class=\"mb-1 text-muted\" style=\"word-wrap:break-word\">${countryInfo}</p></div>`;\n        countriesByType.innerHTML += countryHtml;\n        countriesByTypeTab.innerHTML += countryHtml;\n      });\n      const { length } = groups[type];\n      const countriesByTypeStyleDisplay = length > 0 ? 'none' : '';\n      countriesByTypeInfo.style.display = countriesByTypeStyleDisplay;\n      countriesByTypeTabInfo.style.display = countriesByTypeStyleDisplay;\n      countriesByTypeBadge.innerHTML = length;\n      countriesByTypeTabBadge.innerHTML = length;\n    });\n  } catch (err) {\n    console.error(err);\n  }\n};\n\nloadCountries();\n"]}